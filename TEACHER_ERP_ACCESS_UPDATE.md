# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –î–æ—Å—Ç—É–ø –£—á–∏—Ç–µ–ª–µ–π –∫ ERP

## –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ

–£—á–∏—Ç–µ–ª—è –±–æ–ª—å—à–µ **–ù–ï –ü–ï–†–ï–ë–†–ê–°–´–í–ê–Æ–¢–°–Ø** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ LMS –ø—Ä–∏ –≤—Ö–æ–¥–µ –Ω–∞ —Å–∞–π—Ç.
–¢–µ–ø–µ—Ä—å —É—á–∏—Ç–µ–ª—è –∏–º–µ—é—Ç **–ü–û–õ–ù–´–ô –î–û–°–¢–£–ü –∫ ERP —Å–∏—Å—Ç–µ–º–µ** –∫–∞–∫ –∏ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–æ–ª–∏.

## –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `frontend/src/router/index.tsx`
- ‚úÖ –£–¥–∞–ª–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `TeacherRedirectToLms` –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç —É—á–∏—Ç–µ–ª–µ–π –≤ LMS
- ‚úÖ –£–±—Ä–∞–Ω–∞ –æ–±—ë—Ä—Ç–∫–∞ `<Route element={<TeacherRedirectToLms />}>` –∏–∑ ERP –º–∞—Ä—à—Ä—É—Ç–æ–≤
- ‚úÖ –£—á–∏—Ç–µ–ª—è —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç —Å–≤–æ–±–æ–¥–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ ERP —Å–∏—Å—Ç–µ–º–µ

### 2. `frontend/src/layouts/LmsLayout.tsx`
- ‚úÖ –£–±—Ä–∞–Ω–æ —É—Å–ª–æ–≤–∏–µ `user.role !== "TEACHER"` –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ ERP"
- ‚úÖ –í—Å–µ —Ä–æ–ª–∏ –≤–∫–ª—é—á–∞—è TEACHER —Ç–µ–ø–µ—Ä—å –≤–∏–¥—è—Ç –∫–Ω–æ–ø–∫—É –ø–µ—Ä–µ—Ö–æ–¥–∞ –∏–∑ LMS –≤ ERP

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ë—ã–ª–æ:
- üî¥ –£—á–∏—Ç–µ–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–ª–∏—Å—å –Ω–∞ `/lms/school` –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–π—Ç–∏ –≤ ERP
- üî¥ –£—á–∏—Ç–µ–ª—è –ù–ï –≤–∏–¥–µ–ª–∏ –∫–Ω–æ–ø–∫—É "–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ ERP" –≤ LMS –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- üî¥ –î–æ—Å—Ç—É–ø –∫ ERP —Å–∏—Å—Ç–µ–º–µ –±—ã–ª –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω

### –°—Ç–∞–ª–æ:
- ‚úÖ –£—á–∏—Ç–µ–ª—è –º–æ–≥—É—Ç –∑–∞—Ö–æ–¥–∏—Ç—å –≤ ERP —Å–∏—Å—Ç–µ–º—É –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- ‚úÖ –£—á–∏—Ç–µ–ª—è –≤–∏–¥—è—Ç –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã ERP –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –£—á–∏—Ç–µ–ª—è –º–æ–≥—É—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É ERP –∏ LMS —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- ‚úÖ –£—á–∏—Ç–µ–ª—è –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–¥–∞—á—É –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è (MaintenancePage)

## –ù–∞–≤–∏–≥–∞—Ü–∏—è –¥–ª—è —É—á–∏—Ç–µ–ª–µ–π

### ERP ‚Üí LMS:
–ö–Ω–æ–ø–∫–∞ "–®–∫–æ–ª—å–Ω–∞—è LMS" (—Ç—ë–º–Ω–æ-–±–∏—Ä—é–∑–æ–≤–∞—è) –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É ERP –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### LMS ‚Üí ERP:
–ö–Ω–æ–ø–∫–∞ "–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ ERP" (—Å–∏–Ω—è—è) –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É LMS –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

## –°—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è

- ‚úÖ Backend –æ–±–Ω–æ–≤–ª—ë–Ω –∏ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω (12.01.2026 20:56)
- ‚è≥ Frontend —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–¥–µ–ø–ª–æ—è —á–µ—Ä–µ–∑ Coolify

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º—É –¥–µ–ø–ª–æ—é

### –®–∞–≥ 1: –†–µ–¥–µ–ø–ª–æ–π Frontend —á–µ—Ä–µ–∑ Coolify
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–Ω–µ–ª—å Coolify: https://your-coolify-instance
2. –ù–∞–π–¥–∏—Ç–µ frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ID: `wg4sckc884oosskoogwkgwso-153351250707`)
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Redeploy" –∏–ª–∏ "Force rebuild and redeploy"
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏ (~2-3 –º–∏–Ω—É—Ç—ã)

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

#### –¢–µ—Å—Ç 1: –í—Ö–æ–¥ —É—á–∏—Ç–µ–ª—è –≤ ERP
1. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –ø–æ–¥ —É—á—ë—Ç–æ–º —É—á–∏—Ç–µ–ª—è
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –í—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ø–∞—Å—Ç—å –Ω–∞ –¥–∞—à–±–æ—Ä–¥ ERP (`/dashboard`)
3. ‚úÖ –í—ã –¥–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å –≤—Å–µ —Ä–∞–∑–¥–µ–ª—ã ERP –≤ –±–æ–∫–æ–≤–æ–º –º–µ–Ω—é
4. ‚úÖ –ö–Ω–æ–ø–∫–∞ "–®–∫–æ–ª—å–Ω–∞—è LMS" –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∏–¥–Ω–∞ –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É

#### –¢–µ—Å—Ç 2: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ —É—á–∏—Ç–µ–ª–µ–º
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ó–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–¥–∞—á—É" (`/maintenance`)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∑–∞—è–≤–∫—É –Ω–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ó–∞—è–≤–∫–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º PENDING
4. ‚úÖ –í—ã –≤–∏–¥–∏—Ç–µ —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∑–∞—è–≤–∫–∏

#### –¢–µ—Å—Ç 3: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É ERP –∏ LMS
1. –í ERP –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–®–∫–æ–ª—å–Ω–∞—è LMS"
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/lms/school` —É—Å–ø–µ—à–µ–Ω
3. –í LMS –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ ERP"
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ `/dashboard` —É—Å–ø–µ—à–µ–Ω
5. ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤

#### –¢–µ—Å—Ç 4: Workflow –∑–∞—è–≤–æ–∫ (–∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π)
1. **–£—á–∏—Ç–µ–ª—å**: –°–æ–∑–¥–∞—ë—Ç –∑–∞—è–≤–∫—É ‚Üí –≤–∏–¥–∏—Ç —Å–≤–æ—é –∑–∞—è–≤–∫—É —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º PENDING
2. **–ó–∞–≤—É—á/–î–∏—Ä–µ–∫—Ç–æ—Ä**: –û–¥–æ–±—Ä—è–µ—Ç –∑–∞—è–≤–∫—É ‚Üí —Å—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ APPROVED
3. **–ó–∞–≤—Ö–æ–∑**: –í–∏–¥–∏—Ç –æ–¥–æ–±—Ä–µ–Ω–Ω—É—é –∑–∞—è–≤–∫—É ‚Üí –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å –≤—ã–¥–∞—á—É (IN_PROGRESS)
4. **–ó–∞–≤—Ö–æ–∑**: –ó–∞–≤–µ—Ä—à–∞–µ—Ç –≤—ã–¥–∞—á—É ‚Üí —Å—Ç–∞—Ç—É—Å DONE

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
```tsx
// –ë–´–õ–û:
<Route element={<TeacherRedirectToLms />}>
  <Route path="/" element={<MainLayout />}>
    {/* ERP routes */}
  </Route>
</Route>

// –°–¢–ê–õ–û:
<Route path="/" element={<MainLayout />}>
  {/* ERP routes - –¥–æ—Å—Ç—É–ø–Ω—ã –í–°–ï–ú —Ä–æ–ª—è–º */}
</Route>
```

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ LmsLayout
```tsx
// –ë–´–õ–û:
{user.role !== "TEACHER" && (
  <Link to="/dashboard">–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ ERP</Link>
)}

// –°–¢–ê–õ–û:
<Link to="/dashboard">–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ ERP</Link>
```

## –û—Ç–∫–∞—Ç –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã, –º–æ–∂–Ω–æ –æ—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:

```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
git revert HEAD
git push

# –ó–∞—Ç–µ–º —Ä–µ–¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Coolify
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é –≤ —Ñ–∞–π–ª–∞—Ö –≤–µ—Ä–Ω—É—Ç—å:
1. –í `router/index.tsx` - –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ `TeacherRedirectToLms`
2. –í `LmsLayout.tsx` - –¥–æ–±–∞–≤–∏—Ç—å —É—Å–ª–æ–≤–∏–µ `user.role !== "TEACHER"`

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –°–≤—è–∑—å —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
–ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –ù–ï —Ç—Ä–µ–±—É–µ—Ç—Å—è. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è - —Ç–æ–ª—å–∫–æ frontend —Ä–æ—É—Ç–∏–Ω–≥.

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ —É—á–∏—Ç–µ–ª–µ–π –∫ —Ä–∞–∑–¥–µ–ª–∞–º ERP –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑:
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `RoleBasedRoute` –≤ —Ä–æ—É—Ç–µ—Ä–µ
- –ü—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ backend –≤ –∫–∞–∂–¥–æ–º API endpoint
- –£—á–∏—Ç–µ–ª—è –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫ —Ä–∞–∑–¥–µ–ª–∞–º —Å–æ–≥–ª–∞—Å–Ω–æ –∏—Ö —Ä–æ–ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ —Å —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–µ–π Prisma schema
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ —Å backend API
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ —Å —Å–∏—Å—Ç–µ–º–æ–π —Ä–æ–ª–µ–π –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –ù–µ –ª–æ–º–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ LMS

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É —Å –ª–æ–≥–∞–º–∏ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ (F12 ‚Üí Console).

---
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: 12 —è–Ω–≤–∞—Ä—è 2026  
**–°—Ç–∞—Ç—É—Å**: Backend deployed ‚úÖ | Frontend pending Coolify redeploy ‚è≥
